{% extends "base.html" %}
{% import "_macros.html" as macros %}

{% block page_content %}
    <div class="page-header">

        <div class="profile-header">
            <h1>{{ user.username }}</h1>
            <p>{% if user.location %}{{ user.location }}{% endif %}</p>
            <p>{% if user.about_me %}{{ user.about_me }}{% endif %}</p>
            <p>{{ user.posts.count() }} blog posts. {{ user.comments.count() }} comments.</p>
        </div>
        <p>
            {% if current_user.is_admin() %}
                <a class="btn btn-danger" href="{{ url_for("main.admin_edit_profile", id=user.id) }}">Admin Edit</a>   <!--应该放一个链接，是user.id-->
            {% endif %}
            {% if user == current_user %}<!--care-->
                <a class="btn btn-default" href="{{ url_for("main.edit_profile") }}">Edit Profile</a>
            {% endif %}
        </p>

    </div>
    <h3>Post by {{ user.username }}</h3>
    {% include "_posts.html" %}
    <!--care here main.user-->
    {% if pagination %}
        <div class="pagination">
            {{ macros.pagination_widget(pagination, "main.user", username=user.username) }}
        </div>
    {% endif %}
{% endblock %}